<!DOCTYPE html><html lang="en"><head><title>assets/scripts/vendor/jquery_jfeed</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../../../"><meta name="groc-document-path" content="assets/scripts/vendor/jquery_jfeed"><meta name="groc-project-path" content="assets/scripts/vendor/jquery_jfeed.js"><link rel="stylesheet" type="text/css" media="all" href="../../../assets/style.css"><script type="text/javascript" src="../../../assets/behavior.js"></script><body><div id="meta"><div class="file-path">assets/scripts/vendor/jquery_jfeed.js</div></div><div id="document"><div class="segment"><div class="comments "><div class="wrapper"><p>jFeed : jQuery feed parser plugin
Copyright (C) 2007 Jean-Fran√ßois Hovinne - <a href="http://www.hovinne.com/">http://www.hovinne.com/</a>
Dual licensed under the MIT (MIT-license.txt)
and GPL (GPL-license.txt) licenses.</p></div></div><div class="code"><div class="wrapper">jQuery.getFeed = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(options)</span> {</span>

    options = jQuery.extend({

        url: <span class="hljs-literal">null</span>,
        data: <span class="hljs-literal">null</span>,
        cache: <span class="hljs-literal">true</span>,
        success: <span class="hljs-literal">null</span>,
        failure: <span class="hljs-literal">null</span>,
        error: <span class="hljs-literal">null</span>,
        global: <span class="hljs-literal">true</span>

    }, options);

    <span class="hljs-keyword">if</span> (options.url) {
        
        <span class="hljs-keyword">if</span> (jQuery.isFunction(options.failure) &amp;&amp; jQuery.type(options.error)===<span class="hljs-string">'null'</span>) {</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Handle legacy failure option</p></div></div><div class="code"><div class="wrapper">          options.error = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(xhr, msg, e)</span>{</span>
            options.failure(msg, e);
          }
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (jQuery.type(options.failure) === jQuery.type(options.error) === <span class="hljs-string">'null'</span>) {</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Default error behavior if failure &amp; error both unspecified</p></div></div><div class="code"><div class="wrapper">          options.error = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(xhr, msg, e)</span>{</span>
            window.console&amp;&amp;console.log(<span class="hljs-string">'getFeed failed to load feed'</span>, xhr, msg, e);
          }
        }

        <span class="hljs-keyword">return</span> $.ajax({
            type: <span class="hljs-string">'GET'</span>,
            url: options.url,
            data: options.data,
            cache: options.cache,
            dataType: (jQuery.browser.msie) ? <span class="hljs-string">"text"</span> : <span class="hljs-string">"xml"</span>,
            success: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(xml)</span> {</span>
                <span class="hljs-keyword">var</span> feed = <span class="hljs-keyword">new</span> JFeed(xml);
                <span class="hljs-keyword">if</span> (jQuery.isFunction(options.success)) options.success(feed);
            },
            error: options.error,
            global: options.global
        });
    }
};

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">JFeed</span><span class="hljs-params">(xml)</span> {</span>
    <span class="hljs-keyword">if</span> (xml) <span class="hljs-keyword">this</span>.parse(xml);
}
;

JFeed.prototype = {

    type: <span class="hljs-string">''</span>,
    version: <span class="hljs-string">''</span>,
    title: <span class="hljs-string">''</span>,
    link: <span class="hljs-string">''</span>,
    description: <span class="hljs-string">''</span>,
    parse: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(xml)</span> {</span>

        <span class="hljs-keyword">if</span> (jQuery.browser.msie) {
            <span class="hljs-keyword">var</span> xmlDoc = <span class="hljs-keyword">new</span> ActiveXObject(<span class="hljs-string">"Microsoft.XMLDOM"</span>);
            xmlDoc.loadXML(xml);
            xml = xmlDoc;
        }

        <span class="hljs-keyword">if</span> (jQuery(<span class="hljs-string">'channel'</span>, xml).length == <span class="hljs-number">1</span>) {

            <span class="hljs-keyword">this</span>.type = <span class="hljs-string">'rss'</span>;
            <span class="hljs-keyword">var</span> feedClass = <span class="hljs-keyword">new</span> JRss(xml);

        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (jQuery(<span class="hljs-string">'feed'</span>, xml).length == <span class="hljs-number">1</span>) {

            <span class="hljs-keyword">this</span>.type = <span class="hljs-string">'atom'</span>;
            <span class="hljs-keyword">var</span> feedClass = <span class="hljs-keyword">new</span> JAtom(xml);
        }

        <span class="hljs-keyword">if</span> (feedClass) jQuery.extend(<span class="hljs-keyword">this</span>, feedClass);
    }
};

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">JFeedItem</span><span class="hljs-params">()</span> {</span>};

JFeedItem.prototype = {

    title: <span class="hljs-string">''</span>,
    link: <span class="hljs-string">''</span>,
    description: <span class="hljs-string">''</span>,
    updated: <span class="hljs-string">''</span>,
    id: <span class="hljs-string">''</span>
};

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">JAtom</span><span class="hljs-params">(xml)</span> {</span>
    <span class="hljs-keyword">this</span>._parse(xml);
};

JAtom.prototype = {
    
    _parse: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(xml)</span> {</span>
    
        <span class="hljs-keyword">var</span> channel = jQuery(<span class="hljs-string">'feed'</span>, xml).eq(<span class="hljs-number">0</span>);

        <span class="hljs-keyword">this</span>.version = <span class="hljs-string">'1.0'</span>;
        <span class="hljs-keyword">this</span>.title = jQuery(channel).find(<span class="hljs-string">'title:first'</span>).text();
        <span class="hljs-keyword">this</span>.link = jQuery(channel).find(<span class="hljs-string">'link:first'</span>).attr(<span class="hljs-string">'href'</span>);
        <span class="hljs-keyword">this</span>.description = jQuery(channel).find(<span class="hljs-string">'subtitle:first'</span>).text();
        <span class="hljs-keyword">this</span>.language = jQuery(channel).attr(<span class="hljs-string">'xml:lang'</span>);
        <span class="hljs-keyword">this</span>.updated = jQuery(channel).find(<span class="hljs-string">'updated:first'</span>).text();
        
        <span class="hljs-keyword">this</span>.items = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
        
        <span class="hljs-keyword">var</span> feed = <span class="hljs-keyword">this</span>;
        
        jQuery(<span class="hljs-string">'entry'</span>, xml).each( <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
        
            <span class="hljs-keyword">var</span> item = <span class="hljs-keyword">new</span> JFeedItem();
            
            item.title = jQuery(<span class="hljs-keyword">this</span>).find(<span class="hljs-string">'title'</span>).eq(<span class="hljs-number">0</span>).text();
            item.link = jQuery(<span class="hljs-keyword">this</span>).find(<span class="hljs-string">'link'</span>).eq(<span class="hljs-number">0</span>).attr(<span class="hljs-string">'href'</span>);
            item.description = jQuery(<span class="hljs-keyword">this</span>).find(<span class="hljs-string">'content'</span>).eq(<span class="hljs-number">0</span>).text();
            item.updated = jQuery(<span class="hljs-keyword">this</span>).find(<span class="hljs-string">'updated'</span>).eq(<span class="hljs-number">0</span>).text();
            item.id = jQuery(<span class="hljs-keyword">this</span>).find(<span class="hljs-string">'id'</span>).eq(<span class="hljs-number">0</span>).text();
            
            feed.items.push(item);
        });
    }
};

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">JRss</span><span class="hljs-params">(xml)</span> {</span>
    <span class="hljs-keyword">this</span>._parse(xml);
};

JRss.prototype  = {
    
    _parse: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(xml)</span> {</span>
    
        <span class="hljs-keyword">if</span>(jQuery(<span class="hljs-string">'rss'</span>, xml).length == <span class="hljs-number">0</span>) <span class="hljs-keyword">this</span>.version = <span class="hljs-string">'1.0'</span>;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">this</span>.version = jQuery(<span class="hljs-string">'rss'</span>, xml).eq(<span class="hljs-number">0</span>).attr(<span class="hljs-string">'version'</span>);

        <span class="hljs-keyword">var</span> channel = jQuery(<span class="hljs-string">'channel'</span>, xml).eq(<span class="hljs-number">0</span>);
    
        <span class="hljs-keyword">this</span>.title = jQuery(channel).find(<span class="hljs-string">'title:first'</span>).text();
        <span class="hljs-keyword">this</span>.link = jQuery(channel).find(<span class="hljs-string">'link:first'</span>).text();
        <span class="hljs-keyword">this</span>.description = jQuery(channel).find(<span class="hljs-string">'description:first'</span>).text();
        <span class="hljs-keyword">this</span>.language = jQuery(channel).find(<span class="hljs-string">'language:first'</span>).text();
        <span class="hljs-keyword">this</span>.updated = jQuery(channel).find(<span class="hljs-string">'lastBuildDate:first'</span>).text();
    
        <span class="hljs-keyword">this</span>.items = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
        
        <span class="hljs-keyword">var</span> feed = <span class="hljs-keyword">this</span>;
        
        jQuery(<span class="hljs-string">'item'</span>, xml).each( <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
        
            <span class="hljs-keyword">var</span> item = <span class="hljs-keyword">new</span> JFeedItem();
            
            item.title = jQuery(<span class="hljs-keyword">this</span>).find(<span class="hljs-string">'title'</span>).eq(<span class="hljs-number">0</span>).text();
            item.link = jQuery(<span class="hljs-keyword">this</span>).find(<span class="hljs-string">'link'</span>).eq(<span class="hljs-number">0</span>).text();
            item.description = jQuery(<span class="hljs-keyword">this</span>).find(<span class="hljs-string">'description'</span>).eq(<span class="hljs-number">0</span>).text();
            item.updated = jQuery(<span class="hljs-keyword">this</span>).find(<span class="hljs-string">'pubDate'</span>).eq(<span class="hljs-number">0</span>).text();
            item.id = jQuery(<span class="hljs-keyword">this</span>).find(<span class="hljs-string">'guid'</span>).eq(<span class="hljs-number">0</span>).text();
            
            feed.items.push(item);
        });
    }
};</div></div></div></div></body></html>